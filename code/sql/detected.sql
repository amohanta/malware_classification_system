DROP INDEX XPKSAMPLE ON SAMPLE;
 
DROP INDEX XIF1SAMPLE ON SAMPLE;
 
DROP INDEX XIF2SAMPLE ON SAMPLE;
 
DROP INDEX XPKFAMILY ON FAMILY;
 
DROP INDEX XPKFILETYPE ON FILETYPE;
 
DROP TABLE SAMPLE;
 
DROP TABLE FAMILY;
 
DROP TABLE FILETYPE;
 
CREATE TABLE FILETYPE
(
	FILETYPE_ID          INTEGER NOT NULL,
	FILETYPE             VARCHAR(20) NOT NULL,
	CONSTRAINT XPKFILETYPE PRIMARY KEY (FILETYPE_ID)
);
 
CREATE UNIQUE INDEX XPKFILETYPE ON FILETYPE
(
	FILETYPE_ID ASC
);
 
CREATE TABLE FAMILY
(
	FAMILY_ID            INTEGER NOT NULL,
	FAMILY_NAME          VARCHAR(30) NOT NULL,
	CONSTRAINT XPKFAMILY PRIMARY KEY (FAMILY_ID)
);
 
CREATE UNIQUE INDEX XPKFAMILY ON FAMILY
(
	FAMILY_ID ASC
);
 
CREATE TABLE SAMPLE
(
	SAMPLE_ID            INTEGER NOT NULL,
	MD5                  BINARY(16) NOT NULL,
	SHA256               BINARY(20) NOT NULL,
	FILETYPE_ID          INTEGER NOT NULL,
	FAMILY_ID            INTEGER NOT NULL,
	FILENAME             VARCHAR(100) NOT NULL,
	CONSTRAINT XPKSAMPLE PRIMARY KEY (SAMPLE_ID),
	CONSTRAINT R_2 FOREIGN KEY (FILETYPE_ID) REFERENCES FILETYPE (FILETYPE_ID),
	CONSTRAINT R_3 FOREIGN KEY (FAMILY_ID) REFERENCES FAMILY (FAMILY_ID)
);
 
CREATE UNIQUE INDEX XPKSAMPLE ON SAMPLE
(
	SAMPLE_ID ASC
);
 
CREATE INDEX XIF1SAMPLE ON SAMPLE
(
	FILETYPE_ID ASC
);
 
CREATE INDEX XIF2SAMPLE ON SAMPLE
(
	FAMILY_ID ASC
);

