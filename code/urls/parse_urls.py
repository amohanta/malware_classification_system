import argparse
import logging
import requests


def setup_logging(debug):
    '''
        Bootstraps logging
        Arguments:
            debug (boolean) increases logging verbosity
    '''
    logger = logging.getLogger()
    handler = logging.StreamHandler()
    if debug:
        handler.setFormatter(
                logging.Formatter('%(asctime)s:%(levelname)s:%(message)s')
                )
        logger.setLevel(logging.DEBUG)
    else:
        handler.setFormatter(
                logging.Formatter('%(levelname)s:%(message)s')
                )
        logger.setLevel(logging.INFO)
    logger.addHandler(handler)


def main():
    argument_parser = argparse.ArgumentParser()
    argument_parser.add_argument(
            '-u',
            '--urls',
            required=True,
            type=argparse.FileType('r'),
            description='File containing urls to parse')
    argument_parser.add_argument(
            '-d',
            '--debug',
            type=bool,
            description='Enable debug logging')

    arguments = argument_parser.parse_args()

    setup_logging(arguments.debug)


if __name__ == '__main__':
    main()
